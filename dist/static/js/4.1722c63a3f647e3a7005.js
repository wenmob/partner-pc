webpackJsonp([4],{"8UVZ":function(e,t,s){var r=s("v+P/");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);s("rjj0")("24394762",r,!0)},JIaK:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("Dd8w"),a=s.n(r),o=s("XItX"),l=s("TIfe"),n={data:function(){return{actionUrl:"http://test.evcoming.com:9001/partner-admin-api/partner/upload/uploadFile?token="+Object(l.a)(),formTest2:{links:"",shareName:"",bonusCount:1,bonusCountType:1,isEnable:1,shareBonusType:1,shareDesc:"",sharePreTitle:"",sharePreRemarks:"",sharePreImgPath:"",shareBonusAmout:""},checked:"",rulesTest2:{shareName:[{required:!0,message:"请输入任务名称",trigger:"blur"},{max:15,message:"长度在15个字符以内",trigger:"blur"}],links:[{required:!0,message:"请输入链接地址",trigger:"blur"}],shareBonusType:[{required:!0,message:"请选择奖励方式",trigger:"blur"}],shareBonusAmout:[{required:!0,message:"请输入金币数量",trigger:"blur"}],bonusCountType:[{required:!0,message:"请选择奖励次数",trigger:"blur"}],bonusCount:[{required:!0,message:"请输入奖励次数",trigger:"blur"}],isEnable:[{required:!0,message:"请选择是否启用",trigger:"blur"}],shareDesc:[{required:!0,message:"请输入任务描述",trigger:"blur"}],sharePreTitle:[{required:!0,message:"请输入任务预览标题",trigger:"blur"},{max:15,message:"长度在15个字符以内",trigger:"blur"}],sharePreRemarks:[{required:!0,message:"请输入分享描述",trigger:"blur"}],sharePreImgPath:[{required:!0,message:"请选择图片",trigger:"blur"}]},fileList:[]}},computed:{bonusCountObj:{set:function(e){this.formTest2.bonusCount=e},get:function(){return this.formTest2.bonusCount<1&&(this.formTest2.bonusCount=1,this.$set(this.formTest2,"bonusCount",1)),this.formTest2.bonusCount}}},mounted:function(){this.hasID()},methods:{hasID:function(){var e=this;this.$route.query.id&&Object(o.c)({configId:this.$route.query.id}).then(function(t){e.formTest2=a()({},t)})},onSubmit1:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.formTest2.id?(t.formTest2.createTime=t.time(t.formTest2.createTime),t.formTest2.updateTime=t.time(t.formTest2.updateTime),Object(o.e)(t.formTest2).then(function(e){t.$message({message:"修改成功",type:"success"})})):Object(o.b)(t.formTest2).then(function(e){t.$message({message:"添加成功",type:"success"})})})},handleSuccess:function(e,t){this.fileList=[],this.formTest2.sharePreImgPath=e.data;var s={name:t.name,url:e.data};this.fileList.push(s),this.$set(this.formTest2,"sharePreImgPath",e.data)}}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[e._m(0),e._v(" "),s("el-form",{ref:"rulesTest2",staticStyle:{width:"500px","margin-top":"20px"},attrs:{model:e.formTest2,rules:e.rulesTest2,"label-width":"130px"}},[s("el-form-item",{attrs:{label:"任务规则："}},[s("el-input",{attrs:{value:"分享",disabled:""}})],1),e._v(" "),s("el-form-item",{attrs:{label:"任务名称：",prop:"shareName"}},[s("el-col",{attrs:{span:12}},[s("el-input",{attrs:{placeholder:"请输入任务名称",clearable:""},model:{value:e.formTest2.shareName,callback:function(t){e.$set(e.formTest2,"shareName",t)},expression:"formTest2.shareName"}})],1),e._v(" "),s("el-col",{attrs:{span:11,offset:1}},[s("span",[e._v("请控制在15字以内")])])],1),e._v(" "),s("el-form-item",{attrs:{label:"推广链接：",prop:"links"}},[s("el-input",{attrs:{placeholder:"请输入地址",clearable:""},model:{value:e.formTest2.links,callback:function(t){e.$set(e.formTest2,"links",t)},expression:"formTest2.links"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"奖励方式：",prop:"shareBonusType"}},[s("el-row",[s("el-col",{attrs:{span:4}},[s("el-radio",{attrs:{label:1},model:{value:e.formTest2.shareBonusType,callback:function(t){e.$set(e.formTest2,"shareBonusType",t)},expression:"formTest2.shareBonusType"}},[e._v("金币")])],1),e._v(" "),s("el-col",{attrs:{span:13}},[s("el-form-item",{attrs:{prop:"shareBonusAmout"}},[s("el-input",{attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",clearable:""},model:{value:e.formTest2.shareBonusAmout,callback:function(t){e.$set(e.formTest2,"shareBonusAmout",t)},expression:"formTest2.shareBonusAmout"}})],1)],1)],1),e._v(" "),s("el-row",{staticStyle:{"margin-top":"15px"}},[s("el-col",{attrs:{span:5}},[s("el-radio",{attrs:{disabled:"",label:2},model:{value:e.formTest2.shareBonusType,callback:function(t){e.$set(e.formTest2,"shareBonusType",t)},expression:"formTest2.shareBonusType"}},[e._v("优惠券")])],1),e._v(" "),s("el-col",{attrs:{span:15}},[s("el-select",{attrs:{placeholder:"选券",disabled:""}},[s("el-option",{attrs:{label:"满100减50",value:"1"}}),e._v(" "),s("el-option",{attrs:{label:"全场打8折",value:"2"}})],1)],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"奖励次数：",prop:"bonusCountType"}},[s("el-row",[s("el-radio",{attrs:{label:0},model:{value:e.formTest2.bonusCountType,callback:function(t){e.$set(e.formTest2,"bonusCountType",t)},expression:"formTest2.bonusCountType"}},[e._v("永久一次")])],1),e._v(" "),s("el-row",{staticStyle:{"margin-top":"15px"}},[s("el-col",{attrs:{span:4}},[s("el-radio",{attrs:{label:1},model:{value:e.formTest2.bonusCountType,callback:function(t){e.$set(e.formTest2,"bonusCountType",t)},expression:"formTest2.bonusCountType"}},[e._v("每天")])],1),e._v(" "),s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{prop:"bonusCount"}},[s("el-input",{attrs:{placeholder:"几",clearable:"",onkeyup:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.bonusCountObj,callback:function(t){e.bonusCountObj=t},expression:"bonusCountObj"}})],1)],1),e._v(" "),s("el-col",{attrs:{span:2,offset:1}},[s("span",[e._v("次")])]),e._v(" "),s("el-col",{attrs:{span:4,offset:1}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"是否启用：",prop:"isEnable"}},[s("el-radio",{attrs:{label:1},model:{value:e.formTest2.isEnable,callback:function(t){e.$set(e.formTest2,"isEnable",t)},expression:"formTest2.isEnable"}},[e._v("是")]),e._v(" "),s("el-radio",{attrs:{label:0},model:{value:e.formTest2.isEnable,callback:function(t){e.$set(e.formTest2,"isEnable",t)},expression:"formTest2.isEnable"}},[e._v("否")])],1),e._v(" "),s("el-form-item",{attrs:{label:"任务描述：",prop:"shareDesc"}},[s("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.formTest2.shareDesc,callback:function(t){e.$set(e.formTest2,"shareDesc",t)},expression:"formTest2.shareDesc"}})],1),e._v(" "),s("div",{staticStyle:{width:"100%",height:"1px","background-color":"#ccc"}}),e._v(" "),s("el-form-item",{staticStyle:{"margin-top":"20px"},attrs:{label:"任务预览标题：",prop:"sharePreTitle"}},[s("el-input",{attrs:{placeholder:"送你一辆车，免费开7天！",clearable:""},model:{value:e.formTest2.sharePreTitle,callback:function(t){e.$set(e.formTest2,"sharePreTitle",t)},expression:"formTest2.sharePreTitle"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分享描述：",prop:"sharePreRemarks"}},[s("el-input",{attrs:{type:"textarea",rows:5,clearable:"",placeholder:"分享描述"},model:{value:e.formTest2.sharePreRemarks,callback:function(t){e.$set(e.formTest2,"sharePreRemarks",t)},expression:"formTest2.sharePreRemarks"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"分享图片：",prop:"sharePreImgPath"}},[s("el-upload",{staticClass:"upload-demo",attrs:{action:e.actionUrl,multiple:"","on-success":e.handleSuccess,"file-list":e.fileList}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),s("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("图片尺寸：300*300，≤200kb")]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!!e.formTest2.sharePreImgPath,expression:"formTest2.sharePreImgPath ? true : false"}],staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[s("img",{attrs:{src:e.formTest2.sharePreImgPath,width:"300",height:"300"}})])],1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit1("rulesTest2")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"bt"},[t("span",{staticClass:"s1"}),this._v(" "),t("span",{staticClass:"s2"},[this._v("任务编辑")]),this._v(" "),t("div",{staticStyle:{clear:"both"}})])}]};var u=s("VU/8")(n,i,!1,function(e){s("8UVZ")},null,null);t.default=u.exports},XItX:function(e,t,s){"use strict";t.a=function(e){return Object(r.a)({url:"/shareConfig/getList",method:"post",data:e})},t.c=function(e){return Object(r.a)({url:"/shareConfig/getDetail",method:"post",data:e})},t.e=function(e){return Object(r.a)({url:"/shareConfig/update",method:"post",data:e})},t.d=function(e){return Object(r.a)({url:"/shareConfig/isEnable",method:"post",data:e})},t.b=function(e){return Object(r.a)({url:"/shareConfig/add",method:"post",data:e})};var r=s("vLgD")},"v+P/":function(e,t,s){(e.exports=s("FZ+f")(!1)).push([e.i,"\n.bt .s1 {\n  display: inline-block;\n  float: left;\n  width: 4px;\n  height: 16px;\n  background-color: #7888a4;\n  margin-top: 2px;\n  margin-left: 30px;\n}\n.bt .s2 {\n  float: left;\n  font-size: 16px;\n  margin-left: 5px;\n}\n",""])}});